---
title: Optimisations du contrôle en amont avec AEM Sites Optimizer
description: Découvrez les opportunités de contrôle en amont avec AEM Sites Optimizer.
source-git-commit: cae186f8a953fd9d4e9d68653dd5eb2a4bd14152
workflow-type: tm+mt
source-wordcount: '659'
ht-degree: 23%

---


# Opportunités de Preflight

![Opportunités de Preflight](./assets/preflight/hero.png){align="center"}

Les opportunités de contrôle en amont d’AEM Sites Optimizer permettent de s’assurer que vos pages web sont optimisées en termes de performances, d’optimisation du moteur de recherche et d’expérience utilisateur avant leur mise en ligne. En identifiant les problèmes potentiels tels que les liens rompus, les balises meta manquantes et les problèmes d’accessibilité, les vérifications en amont permettent aux auteurs de contenu et aux spécialistes marketing de résoudre ces problèmes dès le début du processus de publication. Cette approche proactive réduit le risque de publication de contenu non optimal, améliore la qualité du site et la présence numérique globale. L’utilisation des opportunités de contrôle en amont permet un workflow plus fluide, réduit les correctifs après publication et contribue à un meilleur classement dans les moteurs de recherche et à la satisfaction des utilisateurs et utilisatrices.

## Opportunités

<!-- CARDS

* ../documentation/opportunities/invalid-or-missing-metadata.md
  {title=Canonical}
  {image=../assets/common/card-link.png}
* ../documentation/opportunities/broken-internal-links.md
  {title=Broken Internal Links}
  {image=../assets/common/card-link.png}
* ../documentation/opportunities/invalid-or-missing-metadata.md
  {title=Metatags}
  {image=../assets/common/card-code.png}
* ../documentation/opportunities/invalid-or-missing-metadata.md
  {title=H1 count}
  {image=../assets/common/card-code.png}
* ../documentation/opportunities/accessibility-issues.md
  {title=Accessibility}
  {image=../assets/common/card-puzzle.png}

-->
<!-- START CARDS HTML - DO NOT MODIFY BY HAND -->
<div class="columns">
    <div class="column is-half-tablet is-half-desktop is-one-third-widescreen" aria-label="Canonical">
        <div class="card" style="height: 100%; display: flex; flex-direction: column; height: 100%;">
            <div class="card-image">
                <figure class="image x-is-16by9">
                    <a href="../documentation/opportunities/invalid-or-missing-metadata.md" title="Canonique" target="_blank" rel="referrer">
                        <img class="is-bordered-r-small" src="../assets/common/card-link.png" alt="Canonique"
                             style="width: 100%; aspect-ratio: 16 / 9; object-fit: cover; overflow: hidden; display: block; margin: auto;">
                    </a>
                </figure>
            </div>
            <div class="card-content is-padded-small" style="display: flex; flex-direction: column; flex-grow: 1; justify-content: space-between;">
                <div class="top-card-content">
                    <p class="headline is-size-6 has-text-weight-bold">
                        <a href="../documentation/opportunities/invalid-or-missing-metadata.md" target="_blank" rel="referrer" title="Canonique">Canonique</a>
                    </p>
                    <p class="is-size-6">Découvrez l’opportunité canonique et comment l’utiliser pour améliorer l’optimisation du moteur de recherche (SEO) et éviter les problèmes de contenu en double.</p>
                </div>
                <a href="../documentation/opportunities/invalid-or-missing-metadata.md" target="_blank" rel="referrer" class="spectrum-Button spectrum-Button--outline spectrum-Button--primary spectrum-Button--sizeM" style="align-self: flex-start; margin-top: 1rem;">
<span class="spectrum-Button-label has-no-wrap has-text-weight-bold">En savoir plus</span>
</a>
            </div>
        </div>
    </div>
    <div class="column is-half-tablet is-half-desktop is-one-third-widescreen" aria-label="Broken Internal Links">
        <div class="card" style="height: 100%; display: flex; flex-direction: column; height: 100%;">
            <div class="card-image">
                <figure class="image x-is-16by9">
                    <a href="../documentation/opportunities/broken-internal-links.md" title="Liens internes rompus" target="_blank" rel="referrer">
                        <img class="is-bordered-r-small" src="../assets/common/card-link.png" alt="Liens internes rompus"
                             style="width: 100%; aspect-ratio: 16 / 9; object-fit: cover; overflow: hidden; display: block; margin: auto;">
                    </a>
                </figure>
            </div>
            <div class="card-content is-padded-small" style="display: flex; flex-direction: column; flex-grow: 1; justify-content: space-between;">
                <div class="top-card-content">
                    <p class="headline is-size-6 has-text-weight-bold">
                        <a href="../documentation/opportunities/broken-internal-links.md" target="_blank" rel="referrer" title="Liens internes rompus">Liens internes rompus</a>
                    </p>
                    <p class="is-size-6">Découvrez l’opportunité de liens internes rompus et comment l’utiliser pour identifier et corriger les liens rompus ou problématiques sur votre site web.</p>
                </div>
                <a href="../documentation/opportunities/broken-internal-links.md" target="_blank" rel="referrer" class="spectrum-Button spectrum-Button--outline spectrum-Button--primary spectrum-Button--sizeM" style="align-self: flex-start; margin-top: 1rem;">
<span class="spectrum-Button-label has-no-wrap has-text-weight-bold">En savoir plus</span>
</a>
            </div>
        </div>
    </div>
    <div class="column is-half-tablet is-half-desktop is-one-third-widescreen" aria-label="Metatags">
        <div class="card" style="height: 100%; display: flex; flex-direction: column; height: 100%;">
            <div class="card-image">
                <figure class="image x-is-16by9">
                    <a href="../documentation/opportunities/invalid-or-missing-metadata.md" title="Balises de métadonnées" target="_blank" rel="referrer">
                        <img class="is-bordered-r-small" src="../assets/common/card-code.png" alt="Balises de métadonnées"
                             style="width: 100%; aspect-ratio: 16 / 9; object-fit: cover; overflow: hidden; display: block; margin: auto;">
                    </a>
                </figure>
            </div>
            <div class="card-content is-padded-small" style="display: flex; flex-direction: column; flex-grow: 1; justify-content: space-between;">
                <div class="top-card-content">
                    <p class="headline is-size-6 has-text-weight-bold">
                        <a href="../documentation/opportunities/invalid-or-missing-metadata.md" target="_blank" rel="referrer" title="Balises de métadonnées">Balises de métadonnées</a>
                    </p>
                    <p class="is-size-6">Découvrez l’opportunité des balises de métadonnées et comment l’utiliser pour optimiser les métadonnées de votre page pour de meilleures performances SEO.</p>
                </div>
                <a href="../documentation/opportunities/invalid-or-missing-metadata.md" target="_blank" rel="referrer" class="spectrum-Button spectrum-Button--outline spectrum-Button--primary spectrum-Button--sizeM" style="align-self: flex-start; margin-top: 1rem;">
<span class="spectrum-Button-label has-no-wrap has-text-weight-bold">En savoir plus</span>
</a>
            </div>
        </div>
    </div>
    <div class="column is-half-tablet is-half-desktop is-one-third-widescreen" aria-label="H1 count">
        <div class="card" style="height: 100%; display: flex; flex-direction: column; height: 100%;">
            <div class="card-image">
                <figure class="image x-is-16by9">
                    <a href="../documentation/opportunities/invalid-or-missing-metadata.md" title="Nombre de H1" target="_blank" rel="referrer">
                        <img class="is-bordered-r-small" src="../assets/common/card-code.png" alt="Nombre de H1"
                             style="width: 100%; aspect-ratio: 16 / 9; object-fit: cover; overflow: hidden; display: block; margin: auto;">
                    </a>
                </figure>
            </div>
            <div class="card-content is-padded-small" style="display: flex; flex-direction: column; flex-grow: 1; justify-content: space-between;">
                <div class="top-card-content">
                    <p class="headline is-size-6 has-text-weight-bold">
                        <a href="../documentation/opportunities/invalid-or-missing-metadata.md" target="_blank" rel="referrer" title="Nombre de H1">Nombre de H1</a>
                    </p>
                    <p class="is-size-6">Découvrez l’opportunité du nombre de H1 et comment l’utiliser pour garantir une structure d’en-tête appropriée et l’optimisation du SEO.</p>
                </div>
                <a href="../documentation/opportunities/invalid-or-missing-metadata.md" target="_blank" rel="referrer" class="spectrum-Button spectrum-Button--outline spectrum-Button--primary spectrum-Button--sizeM" style="align-self: flex-start; margin-top: 1rem;">
<span class="spectrum-Button-label has-no-wrap has-text-weight-bold">En savoir plus</span>
</a>
            </div>
        </div>
    </div>
    <div class="column is-half-tablet is-half-desktop is-one-third-widescreen" aria-label="Accessibility">
        <div class="card" style="height: 100%; display: flex; flex-direction: column; height: 100%;">
            <div class="card-image">
                <figure class="image x-is-16by9">
                    <a href="../documentation/opportunities/accessibility-issues.md" title="Accessibilité" target="_blank" rel="referrer">
                        <img class="is-bordered-r-small" src="../assets/common/card-puzzle.png" alt="Accessibilité"
                             style="width: 100%; aspect-ratio: 16 / 9; object-fit: cover; overflow: hidden; display: block; margin: auto;">
                    </a>
                </figure>
            </div>
            <div class="card-content is-padded-small" style="display: flex; flex-direction: column; flex-grow: 1; justify-content: space-between;">
                <div class="top-card-content">
                    <p class="headline is-size-6 has-text-weight-bold">
                        <a href="../documentation/opportunities/accessibility-issues.md" target="_blank" rel="referrer" title="Accessibilité">Accessibilité</a>
                    </p>
                    <p class="is-size-6">Découvrez l’opportunité d’accessibilité et comment l’utiliser pour garantir que votre site web est accessible à tous les utilisateurs et utilisatrices.</p>
                </div>
                <a href="../documentation/opportunities/accessibility-issues.md" target="_blank" rel="referrer" class="spectrum-Button spectrum-Button--outline spectrum-Button--primary spectrum-Button--sizeM" style="align-self: flex-start; margin-top: 1rem;">
<span class="spectrum-Button-label has-no-wrap has-text-weight-bold">En savoir plus</span>
</a>
            </div>
        </div>
    </div>

</div>
<!-- END CARDS HTML - DO NOT MODIFY BY HAND -->

## Configuration

L’identification de l’opportunité de contrôle en amont AEM Sites Optimizer nécessite la configuration de l’extension de contrôle en amont dans l’éditeur universel, l’aperçu basé sur les documents ou AEM Cloud Service afin d’exécuter des audits de contrôle en amont sur vos pages avant leur publication.

### Activer l’accès utilisateur

Pour utiliser l’extension de contrôle en amont, assurez-vous que votre utilisateur est affecté à au moins l’un des profils de produit AEM Sites Optimizer suivants dans [Adobe Admin Console ](https://adminconsole.adobe.com) :

* AEM Sites Optimizer - Suggérer automatiquement l’utilisateur
* AEM Sites Optimizer - Optimisation automatique de l’utilisateur

### Activation de l’extension de contrôle en amont

>[!BEGINTABS]

>[!TAB Éditeur universel]

Pour configurer le contrôle en amont dans l’éditeur universel, procédez comme suit :

1. Ouvrez l’**Extension Manager** à l’adresse :
   [https://experience.adobe.com/#/@org/aem/extension-manager/universal-editor](https://experience.adobe.com/#/@org/aem/extension-manager/universal-editor)
1. Recherchez l’extension **AEM Sites Optimizer Preflight** et envoyez une requête pour l’activer.
1. L’équipe Adobe AEM **** examinera et activera l’extension pour votre organisation.
1. Une fois l’extension activée, ouvrez une page dans **Éditeur universel**, par exemple :
   `https://author-p12345-e123456.adobeaemcloud.com/ui#/@org/aem/universal-editor/canvas/author-p12345-e123456.adobeaemcloud.com/content/en/example/home.html`
1. L’**Extension de contrôle en amont**’affiche dans le **rail latéral**.
1. Sélectionnez l’**Extension de contrôle en amont** dans le rail latéral pour lancer un **contrôle en amont** de la page active.

>[!TAB Création basée sur des documents]

Pour configurer le contrôle en amont pour la création basée sur des documents, procédez comme suit :

1. Ajoutez la configuration suivante à `/tools/sidekick/config.json` dans le référentiel GitHub de votre projet Edge Delivery Services :

   ```json
   {
     "plugins": [
       {
         "id": "preflight",
         "titleI18n": {
           "en": "Preflight"
         },
         "environments": ["preview"],
         "event": "preflight"
       }
     ]
   }
   ```

1. Créez un nouveau `/tools/sidekick/aem-sites-optimizer-preflight.js` de fichier et ajoutez le contenu suivant :

   ```javascript
   (function () {
     let isAEMSitesOptimizerPreflightAppLoaded = false;
     function loadAEMSitesOptimizerPreflightApp() {
       const script = document.createElement('script');
       script.src = 'https://experience.adobe.com/solutions/OneAdobe-aem-sites-optimizer-preflight-mfe/static-assets/resources/sidekick/client.js?source=plugin';
       script.onload = function () {
         isAEMSitesOptimizerPreflightAppLoaded = true;
       };
       script.onerror = function () {
         console.error('Error loading AEMSitesOptimizerPreflightApp.');
       };
       document.head.appendChild(script);
     }
   
     function handlePluginButtonClick() {
       if (!isAEMSitesOptimizerPreflightAppLoaded) {
         loadAEMSitesOptimizerPreflightApp();
       }
     }
   
     // Sidekick V1 extension support
     const sidekick = document.querySelector('helix-sidekick');
     if (sidekick) {
       sidekick.addEventListener('custom:preflight', handlePluginButtonClick);
     } else {
       document.addEventListener('sidekick-ready', () => {
         document.querySelector('helix-sidekick')
           .addEventListener('custom:preflight', handlePluginButtonClick);
       }, { once: true });
     }
   
     // Sidekick V2 extension support
     const sidekickV2 = document.querySelector('aem-sidekick');
     if (sidekickV2) {
       sidekickV2.addEventListener('custom:preflight', handlePluginButtonClick);
     } else {
       document.addEventListener('sidekick-ready', () => {
         document.querySelector('aem-sidekick')
           .addEventListener('custom:preflight', handlePluginButtonClick);
       }, { once: true });
     }
   }());
   ```

1. Mettez à jour la fonction `loadLazy()` dans `/scripts/scripts.js` pour importer le script de contrôle en amont pour les URL de prévisualisation :

   ```javascript
   if (window.location.href.includes('.aem.page')) {
      import('../tools/sidekick/aem-sites-optimizer-preflight.js');
   }
   ```

1. Ouvrez l’URL d’aperçu (`*.aem.page`) de la page à auditer.
1. Dans **Sidekick**, cliquez sur le bouton **Contrôle en amont** pour démarrer l’audit de la page active.

>[!TAB Éditeur de page AEM Sites]

Pour utiliser le contrôle en amont dans l’éditeur de page d’AEM Sites, vous pouvez créer un signet dans votre navigateur web. Procédez comme suit :

1. Affichez la **barre de signets** dans votre navigateur web :

   * Appuyez sur **Ctrl+Maj+B** (Windows) ou **Cmd+Maj+B** (Mac).

!. Créez un signet dans votre navigateur :

* Cliquez avec le bouton droit sur la barre des signets et sélectionnez **Nouvelle page** ou **Ajouter un signet**.
* Dans le champ **Adresse (URL)** collez le code suivant :

```javascript
javascript:(function(){const script=document.createElement('script');script.src='https://experience.adobe.com/solutions/OneAdobe-aem-sites-optimizer-preflight-mfe/static-assets/resources/sidekick/client.js?source=bookmarklet&target-source=aem-cloud-service';document.head.appendChild(script);})();
```

1. Nommez le signet **Contrôle en amont** (ou tout autre nom de votre choix).
1. Ouvrez l’URL d’aperçu (`*.aem.page`) de la page que vous souhaitez auditer dans l’éditeur de page d’AEM Sites ****.
1. Cliquez sur le signet **Contrôle en amont** dans la barre des signets pour lancer l’audit de la page active.

>[!ENDTABS]

## Bonnes pratiques

Lors de l’exécution des audits de contrôle en amont, gardez à l’esprit les instructions suivantes :

* Exécutez toujours des audits sur **les pages d’évaluation ou de prévisualisation** avant de les publier en production.
* Donner la priorité à la résolution **problèmes à fort impact** tels que des liens rompus, des balises H1 manquantes ou des liens non sécurisés.
* Assurez-vous **l’authentification est activée** pour les environnements d’évaluation protégés avant d’exécuter des audits.
* Examinez et appliquez les **recommandations de balises meta** pour améliorer les performances d’optimisation du moteur de recherche.
